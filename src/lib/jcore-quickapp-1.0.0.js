!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){function t(e){h=e}function n(e,t){var n=new Date;return"["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"]"+g+"["+e+"]"+t}function r(e,t){d&&h&&p&&console.log(n(e,t))}function o(e,t){d&&h&&console.log(n(e,t))}function a(e,t){d&&h&&console.info(n(e,t))}function i(e,t){d&&h&&console.warn(n(e,t))}function s(e,t){d&&h&&console.error(n(e,t))}function c(e,t){h&&console.log(n(e,t))}function u(e,t){h&&console.info(n(e,t))}function l(e,t){h&&console.warn(n(e,t))}function f(e,t){h&&console.error(n(e,t))}var h=!1,d=!1,p=!0,g="[JIGUANG]";e.setDebugMode=t,e.v=r,e.d=o,e.i=a,e.w=i,e.e=s,e.dd=c,e.ii=u,e.ww=l,e.ee=f}(r||(r={}))},function(e,t,n){"use strict";function r(e){return function(t){return new Promise(function(n,r){e(Object.assign({},t,{success:function(e){n(e)},fail:function(e){r(e)}}))})}}n.d(t,"a",function(){return o});var o,a=n(12),i=(n.n(a),n(14)),s=(n.n(i),n(19)),c=(n.n(s),n(11)),u=n.n(c),l=n(17),f=n.n(l),h=n(18),d=n.n(h),p=n(0),g=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},y=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},b="Qapp";!function(e){function t(e,t,n){d.a.show({contentTitle:e,contentText:t,clickAction:{uri:n}})}function n(e){var t=u.a.getProvider();""!=t?u.a.subscribe({success:function(n){if(p.a.i(b,"push.subscribe succeeded , data:"+n),"meizu"==t.toLowerCase()){var r=JSON.parse(n);"200"==r.code&&e(0,r.value.pushId,t)}else e(0,n.regId,t)},fail:function(n,r){p.a.i(b,"push.subscribe failed"),e(r,"",t)},complete:function(){}}):e(-1,"",t)}function o(){u.a.unsubscribe({success:function(e){p.a.i(b,"push.unsubscribe succeeded")},fail:function(e,t){p.a.i(b,"push.unsubscribe failed")},complete:function(){}})}function c(e){u.a.on({callback:function(t){e(t)}})}function l(){return new Promise(function(e,t){i.getInfo({success:function(t){e(t)},fail:function(e){t(e)}})})}function h(){return new Promise(function(e,t){f.a.getType({success:function(t){e(t)},fail:function(e){t(e)}})})}function v(){return new Promise(function(e,t){f.a.getType({success:function(t){switch(t.type){case"wifi":e(1);break;case"2g":e(2);break;case"3g":e(3);break;case"4g":e(4);break;default:e(0)}},fail:function(e){t(e)}})})}function m(e){return new Promise(function(t,n){i.getId({type:e,success:function(e){t(e)},fail:function(e){n(e)}})})}function w(e){return g(this,void 0,void 0,function(){return y(this,function(t){return f.a.subscribe({callback:function(t){p.a.dd("NetWork","network changed to:"+t.type),e(t&&"none"!=t.type?!1:!0)}}),[2]})})}function k(){return a.getInfo()}e.notify=t,e.subscribe=n,e.unsubscribe=o,e.on=c,e.getDeviceInfo=l,e.getNetWorkInfo=h,e.getNetWorkInfoCode=v,e.getIdInfo=m,e.subscribeNet=w,e.getAppInfo=k;!function(e){e.get=r(s.get),e.set=r(s.set),e.del=r(s.delete),e.clear=r(s.clear)}(e.storage||(e.storage={}))}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return g});var r=n(1),o=n(10),a=n(21),i=n.n(a),s=n(0),c=n(3),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},f="ReportFailCache",h=function(){function e(){this.cacheload=new c.a}return e.prototype.init=function(){return u(this,void 0,void 0,function(){var e,t,n,r,a,i;return l(this,function(s){switch(s.label){case 0:return[4,this.loadData()];case 1:if(s.sent(),e=[],!(Object.keys(this.obj).length>0))return[3,3];for(t in this.obj)if(n=JSON.parse(this.obj[t]),Array.isArray(n))for(r=0,a=n;r<a.length;r++)i=a[r],e.push(i);else e.push(n);return e.length>0?[4,o.a.report(e)]:[3,3];case 2:s.sent(),s.label=3;case 3:return this.obj={},[4,this.sync()];case 4:return s.sent(),this.cacheload.resolve(this),[2]}})})},e.prototype.loadData=function(){return u(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,r.a.storage.get({key:"JAnalytics-FailCache"})];case 1:return e=t.sent(),s.a.d(f,"load History cache:"+(e||"empty")),this.obj=e?JSON.parse(e):{},[2]}})})},e.prototype.reportCache=function(){if(this.obj){var e=i()(this.obj);this.obj={},this.sync(),s.a.d(f,"report cache:"+JSON.stringify(e));var t=[];if(Object.keys(e).length>0){for(var n in e){var r=JSON.parse(e[n]);if(Array.isArray(r))for(var a=0,c=r;a<c.length;a++){var u=c[a];t.push(u)}else t.push(r)}t.length>0&&o.a.report(t)}}else s.a.d(f,"cache is empty")},e.prototype.add=function(e,t){this.cacheload.then(function(n){n.addInternal(e,t)})},e.prototype.addInternal=function(e,t){this.obj[e]=t,this.sync()},e.prototype.delete=function(e){this.cacheload.then(function(t){t.deleteInternal(e)})},e.prototype.deleteInternal=function(e){delete this.obj[e],this.sync()},e.prototype.sync=function(){return u(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,r.a.storage.set({key:"JAnalytics-FailCache",value:JSON.stringify(this.obj)})];case 1:return e.sent(),[2]}})})},e}(),d=new h,p=function(){function e(e){this.time=e,this.quene=[],this.autoReport()}return e.prototype.reportLast=function(){return u(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return null==this.time?[2]:[4,r.a.storage.get({key:"JAnalytics-QueueCache"})];case 1:if(e=n.sent(),s.a.d(f,"queueCache:"+e),e){if(t=JSON.parse(e),0===t.length)return[2];o.a.report(t),this.sync()}return[2]}})})},e.prototype.add=function(e){if(null==this.time)return void o.a.report(e);this.quene.push(i()(e)),this.sync()},e.prototype.autoReport=function(){var e=this;null!=this.time&&(this.timer=setInterval(function(){0!==e.quene.length&&(o.a.report(e.quene),e.quene=[],e.sync())},1e3*this.time))},e.prototype.sync=function(){return u(this,void 0,void 0,function(){return l(this,function(e){return[2,r.a.storage.set({key:"JAnalytics-QueueCache",value:JSON.stringify(this.quene)})]})})},e}(),g=new p(null)},function(e,t,n){"use strict";function r(e){return new Promise(function(t,n){e.success=function(e){t(e)},e.fail=function(e){n(e)},f.fetch(e)}).then(function(e){if(g.a.d(y,"res:"+JSON.stringify(e)),200===e.code)return e.data&&JSON.parse(e.data);throw new Error(e)})}function o(e){return new Promise(function(t,n){e.success=function(e){t(e)},e.fail=function(e){n(e)},f.fetch(e)})}function a(e){var t="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCi0v4VEUhOdfIEfFCrPC72pcDsQF/luTmr4q34NY0EZYGKzfQuTrUAm916P52HCgF+342gjZ/Nvijts5543qYNyoLvgtu4NRcHJmuGI/w7qifhfsivYeoEj9wYphXOyB9HUjzwn1BtAih+1RyUrcErCi249yabUOIKQygPZ9OXXQIDAQAB";return e.key=t,e.action="encrypt",e.transformation="RSA/ECB/PKCS1Padding",new Promise(function(t,n){e.success=function(e){t(e.text)},e.fail=function(e,n){t({data:e,code:n})},p.a.rsa(e)})}function i(e,t,n){var r=h.enc.Utf8.parse(t),o=h.enc.Utf8.parse(e),a=h.enc.Utf8.parse(n);return h.AES.encrypt(o,r,{iv:a,mode:h.mode.CBC,padding:h.pad.Pkcs7}).toString()}function s(e,t,n){var r=h.enc.Utf8.parse(t),o=h.enc.Utf8.parse(n);return h.AES.decrypt(e,r,{iv:o,mode:h.mode.CBC,padding:h.pad.Pkcs7}).toString(h.enc.Utf8)}function c(e,t,n){var r="",o=t,a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(o=Math.round(Math.random()*(n-t))+t);for(var i=0;i<o;i++){r+=a[Math.round(Math.random()*(a.length-1))]}return r}function u(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function l(e){for(var t=0,n=0;n<e.length;n++){null!=e.charAt(n).match(/[^\x00-\xff]/gi)?t+=3:t+=1}return t}n.d(t,"k",function(){return b}),t.b=r,t.j=o,t.d=a,t.e=i,t.f=s,t.c=c,n.d(t,"a",function(){return v}),t.i=u,t.g=l,n.d(t,"h",function(){return m});var f=n(15),h=(n.n(f),n(5)),d=(n.n(h),n(13)),p=n.n(d),g=n(0),y="Util",b=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},v=function(){function e(){this.callbackList=[],this.errorCallList=[],this.PromiseStatus="pending"}return e.prototype.resolve=function(e){"pending"===this.PromiseStatus&&(this.PromiseStatus="resolved",this.PromiseValue=e,this.callbackList.forEach(function(t){setTimeout(function(){t(e)},0)}))},e.prototype.reject=function(e){if("pending"===this.PromiseStatus)return this.PromiseStatus="rejected",this.PromiseValue=e,this.errorCallList.forEach(function(t){t(e)}),this},e.prototype.then=function(e){return"resolved"===this.PromiseStatus?void e(this.PromiseValue):(this.callbackList.push(e),this)},e.prototype.catch=function(e){return"rejected"===this.PromiseStatus?void e(this.PromiseValue):(this.errorCallList.push(e),this)},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.then(t),e.catch(n)})},e}(),m={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,n,r,o,a,i,s,c="",u=0;u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=t>>2,a=(3&t)<<4|n>>4,i=(15&n)<<2|r>>6,s=63&r,isNaN(n)?i=s=64:isNaN(r)&&(s=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(s);return c},decode:function(e){var t,n,r,o,a,i,s,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),t=o<<2|a>>4,n=(15&a)<<4|i>>2,r=(3&i)<<6|s,c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(r));return c}}},function(e,t,n){"use strict";function r(){return void 0==m.jcore&&(m.jcore=v),m.jcore}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"JIGUANGSDK",function(){return o}),t.getJCore=r,n.d(t,"JCoreInterface",function(){return v});var o,a=n(3),i=n(9),s=n(1),c=n(8),u=n(0),l=n(2),f=n(7),h=n(6),d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},g="JCore",y="jg_appkey",b="jg_account_id";!function(e){e[e.PUSH=1]="PUSH",e[e.ANALYTICS=2]="ANALYTICS"}(o||(o={}));var v,m=global,w=[],k=[];!function(e){function t(t,n,r,o,a,i){return n&&0!=n.length?e.global.isInited?void(e.global.curSDK.has(o)?u.a.dd(g,a+" need not init multi times"):(e.global.curSDK.add(o),e.global.curSDKVersion[o]=i,u.a.dd(g,a+" link JCore"))):(e.global.curSDK.add(o),e.global.curSDKVersion[o]=i,u.a.dd(g,a+" start JCore"),e.global.isInited=!0,e.global.appkey=n,r&&(e.global.channel=r),C(),s.a.storage.get({key:b}).then(function(t){e.global.accountId=t}),s.a.storage.get({key:y}).then(function(t){u.a.d(g,"last appkey:"+t),t&&t!=e.global.appkey?(u.a.d(g,"appkey changed,will clear cache"),s.a.storage.clear({})):u.a.d(g,"first start or same appkey"),s.a.storage.set({key:y,value:e.global.appkey}),s.a.getIdInfo(["device","mac","user","advertising"]).then(function(t){e.global.user=t.user,e.global.deviceid=t.device,e.global.mac=t.mac,S()}).catch(function(e){u.a.ww(g,"get device info failed:"+e),S()})}),e):(u.a.ee(g,"jcore init failed,appKey is empty,please check it"),e)}function r(e){w.push(e)}function o(e){k.push(e)}function v(e,t){if(0==e)for(var n=0;n<w.length;++n){var r=w[n];r&&r(e,t)}}function S(){for(var t=0;t<k.length;++t){var r=k[t];r&&r()}n.i(f.a)(v),n.i(f.b)().then(function(t){t||n.i(f.c)(),I(),l.a.init(),e.global.saLoad=new i.a,e.global.saPromise.resolve(e.global.saLoad),s.a.subscribeNet(function(e){e||n.i(f.b)().then(function(e){e||n.i(f.c)()});for(var t=0;t<D.length;++t)D[t](e)})})}function I(){u.a.d(g,"start peroid task"),_(),setInterval(function(){_()},29e4),c.a.startLocInfoReporter()}function _(){u.a.d(g,"peroidTask...."),h.a.checkDeviceInfo()}function C(){try{var t=m.changeVisiblePage;m.__proto__.changeVisiblePage=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n&&n.length>=2&&(t.apply(this,n),n[1]?(u.a.dd(g,"changeVisiblePage,name:"+n[0]+",isShown:true"),e.global.saPromise.then(function(e){e.onResume()})):(u.a.dd(g,"changeVisiblePage,name:"+n[0]+",isShown:false"),e.global.saPromise.then(function(e){e.onPause()})))}}catch(e){u.a.ee(g,"auto check page show/hide failed:"+e)}}function J(e){u.a.dd(g,"setDebugMode:"+e),u.a.setDebugMode(e)}function A(e){return d(this,void 0,void 0,function(){return p(this,function(t){return D.push(e),[2]})})}var D=[];e.global={appkey:void 0,accountId:void 0,channel:"default-channel",sdkVersion:"1.0.0",sdkVersionCode:"65536",saLoad:void 0,uid:0,password:void 0,deviceid:void 0,mac:void 0,user:void 0,isInited:!1,saPromise:new a.a,curSDK:new Set,curSDKVersion:{}},e.init=t,e.addRegisterSuccessCallback=r,e.addInitCallback=o,e.setDebugMode=J,e.subscribeNet=A,e.app=s.a,e.loc=c.a,e.log=u.a,e.report=l.b,e.JPromise=a.a,e.jIsRegistered=f.b,e.jGetRegId=f.d,e.jReRegister=f.e,e.jhttp=a.b,e.jrandomWord=a.c,e.jrsaEncrypt=a.d,e.jaesEncrypt=a.e,e.jaesDecrypt=a.f,e.jgetByteLen=a.g,e.jBase64=a.h}(v||(v={}))},function(e,t){e.exports=require("crypto-js")},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,o=n(0),a=n(1),i=n(2),s=n(4),c=n(5),u=(n.n(c),this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})}),l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},f="DeviceInfoHelper",h="jg_device_cache",d="jg_device_lastreport";!function(e){function t(){return u(this,void 0,void 0,function(){var e,t,r,u,p,g,y,b,v;return l(this,function(l){switch(l.label){case 0:return[4,a.a.storage.get({key:d})];case 1:return e=l.sent(),e&&(t=(new Date).getTime()/1e3-parseInt(e/1e3+""))<86400?(o.a.d(f,"need not report deviceinfo,lastreport time:"+e+",curtime:"+(new Date).getTime()),[2]):[4,a.a.getDeviceInfo()];case 2:return r=l.sent(),u=s.JCoreInterface.global.deviceid,u||(u=" "),p=s.JCoreInterface.global.mac,p||(p=" "),g={cpu_info:" ",resolution:r.screenWidth+"*"+r.screenHeight,os_version:r.osVersionName,language:r.language,timezone:r.region,model:r.model,account_id:s.JCoreInterface.global.accountId,screensize:" ",mac:p,sim_slots:[{imei:u,iccid:" ",imsi:" "}],type:"device_info",manufacturer:r.manufacturer,itime:0},y=n(),b=c.MD5(JSON.stringify(g)+y),[4,a.a.storage.get({key:h})];case 3:return v=l.sent(),(o.a.d(f,"lastMD5:"+v+",deviceMD5:"+b),b!=v)?[3,4]:(o.a.d(f,"same deviceinfo,need not report"),[3,6]);case 4:return[4,a.a.storage.set({key:h,value:b.toString()})];case 5:l.sent(),g.itime=parseInt((new Date).getTime()/1e3+""),o.a.d(f,"report deviceinfo:"+JSON.stringify(g)),i.b.add(g),l.label=6;case 6:return[4,a.a.storage.set({key:d,value:(new Date).getTime()+""})];case 7:return l.sent(),[2]}})})}function n(){var e=a.a.getAppInfo();return s.JCoreInterface.global.appkey+","+s.JCoreInterface.global.channel+","+e.versionName+","+s.JCoreInterface.global.sdkVersion}e.checkDeviceInfo=t}(r||(r={}))},function(e,t,n){"use strict";function r(e){l=e}function o(){return v(this,void 0,void 0,function(){var e,t,r,o,a,s,c,v,C,J,A,D,x,j,N,P,T,O,R,L;return m(this,function(m){switch(m.label){case 0:return k?(h.a.d(w,"is connecting"),[2]):(k=!0,h.a.d(w,"register..."),[4,f.a.getNetWorkInfo()]);case 1:return e=m.sent(),"none"==e.type?(k=!1,h.a.dd(w,"register failed,no network"),[2]):[4,f.a.getDeviceInfo()];case 2:return t=m.sent(),r=f.a.getAppInfo(),[4,f.a.storage.get({key:"JIGUANG-DEVICEID"})];case 3:return(o=m.sent())?[3,5]:(o=n.i(d.i)(),o=b.MD5(o).toString(),[4,f.a.storage.set({key:"JIGUANG-DEVICEID",value:o})]);case 4:m.sent(),m.label=5;case 5:return h.a.d(w,"register DeviceId:"+o),a=p.JCoreInterface.global.deviceid,a||(a=" "),a.length>30&&(a=a.substring(0,30)),s=p.JCoreInterface.global.user,s||(s=" "),s.length>30&&(s=s.substring(0,30)),c=p.JCoreInterface.global.mac,c||(c=" "),v=r.source.type,v&&""!=v&&null!=v||(v="unknown"),C=" ",J=" ",p.JCoreInterface.global.curSDK.has(1)&&(C=p.JCoreInterface.global.curSDKVersion[1]),p.JCoreInterface.global.curSDK.has(2)&&(J=p.JCoreInterface.global.curSDKVersion[2]),A=0,p.JCoreInterface.global.curSDK.has(p.JIGUANGSDK.PUSH)&&(A|=1),p.JCoreInterface.global.curSDK.has(p.JIGUANGSDK.ANALYTICS)&&(A|=4),D={ver:16,platform:3,appkey:p.JCoreInterface.global.appkey,imei:a,pkgname:r.packageName,strApkVersion:r.versionName,systemversion:t.osVersionName+","+t.osVersionCode,modelnumber:t.model,basebandversion:t.brand,buildnumber:" ",channel:p.JCoreInterface.global.channel,PushSDKVer:C,StatisticSDKVer:J,ShareSDKVer:" ",CoreSDKVer:p.JCoreInterface.global.sdkVersion,installation:0,resolution:t.screenWidth+"*"+t.screenHeight,manufacturer:t.manufacturer,DeviceIDStatus:"0",DeviceId:o,android_id:s,mac_address:c,serial_number:" ",business:A,from_type:v,accountID:" "},x=JSON.stringify(D),j="https://user.jpush.cn/v1/register",h.a.d(w,j+" register json:"+x),N=n.i(d.c)(!1,16),P="0102030405060708",T=n.i(d.e)(x,N,P),[4,n.i(d.d)({text:N})];case 6:return O=m.sent(),O=O.replace(/\n/g,""),[4,n.i(d.b)({url:j,header:{Authorization:"Basic "+O,"Content-Length":""+T.length,"X-Jpush-AuthType":"quickapp","X-Real-IP":"127.0.0.1"},method:"POST",data:T}).catch(function(e){h.a.w(w,"Register Failed when http:"+JSON.stringify(e))})];case 7:return(R=m.sent())?(h.a.d(w,"response:"+JSON.stringify(R)),L=R,0==L.code&&L.uid&&L.password&&L.RegistrationID?(h.a.dd(w,"register success,registerId:"+R.RegistrationID),[4,f.a.storage.set({key:S,value:L.uid})]):[3,11]):[3,13];case 8:return m.sent(),[4,f.a.storage.set({key:I,value:L.password})];case 9:return m.sent(),[4,f.a.storage.set({key:_,value:L.RegistrationID})];case 10:return m.sent(),p.JCoreInterface.global.uid=L.uid,p.JCoreInterface.global.password=L.password,g.a.reportCache(),y.a.checkDeviceInfo(),l(0,L.RegistrationID),[3,12];case 11:u(L.code),l(L.code,""),i(),m.label=12;case 12:return[3,14];case 13:l(-1,""),h.a.ww(w,"Register Failed:no reponse"),i(),m.label=14;case 14:return k=!1,[2,R]}})})}function a(){return f.a.storage.get({key:_})}function i(){setTimeout(function(){o()},1e3*C[J]),++J==C.length&&(J=C.length-1)}function s(){return v(this,void 0,void 0,function(){var e,t,n;return m(this,function(r){switch(r.label){case 0:return p.JCoreInterface.global.uid>0?[2,!0]:[4,f.a.storage.get({key:S})];case 1:return e=r.sent(),[4,f.a.storage.get({key:I})];case 2:return t=r.sent(),[4,f.a.storage.get({key:_})];case 3:return n=r.sent(),h.a.d(w,"uid:"+e+",password:"+t+",RegistrationID:"+n),e?(h.a.d(w,"has registered"),p.JCoreInterface.global.uid=e,p.JCoreInterface.global.password=t,[2,!0]):[2,!1]}})})}function c(){return v(this,void 0,void 0,function(){return m(this,function(e){switch(e.label){case 0:return[4,f.a.storage.del({key:S})];case 1:return e.sent(),[4,f.a.storage.del({key:I})];case 2:return e.sent(),[4,f.a.storage.del({key:_})];case 3:return e.sent(),o(),[2]}})})}function u(e){h.a.ee(w,"Register Failed with server error - code:"+e)}t.a=r,t.c=o,t.d=a,t.b=s,t.e=c;var l,f=n(1),h=n(0),d=n(3),p=n(4),g=n(2),y=n(6),b=n(5),v=(n.n(b),this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})}),m=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},w="RegisterHelper",k=!1,S="jg_uid",I="jg_password",_="jg_registrtionid",C=[2,5,20,60,120],J=0},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o,a,i=n(0),s=n(1),c=n(2),u=n(4),l=n(16),f=n.n(l),h=n(20),d=n.n(h),p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},g=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y="LocInfoHelper",b="jg_loc_cache",v="jg_loc_lastreport",m="jg_loc_disable",w="jg_loc_interval";!function(e){function t(){return p(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,s.a.storage.get({key:m})];case 1:return(e=t.sent())&&"false"!=e?[3,3]:(a(),[4,s.a.storage.get({key:w})]);case 2:return o=t.sent(),o?(o=parseInt(o))<3e4&&(o=3e4):o=29e4,i.a.d(y,"start loc reporter , interval "+o),r=setInterval(function(){a()},o),[3,4];case 3:i.a.d(y,"loc reporter is disable"),t.label=4;case 4:return[2]}})})}function n(e,n){return p(this,void 0,void 0,function(){return g(this,function(o){switch(o.label){case 0:return clearInterval(r),[4,s.a.storage.set({key:v,value:""})];case 1:return o.sent(),[4,s.a.storage.set({key:b,value:""})];case 2:return o.sent(),[4,s.a.storage.set({key:w,value:""})];case 3:return o.sent(),[4,s.a.storage.set({key:m,value:n})];case 4:return o.sent(),n?[3,6]:(i.a.d(y,"update loc reporter to able"),[4,s.a.storage.set({key:w,value:1e3*e})]);case 5:return o.sent(),t(),[3,7];case 6:i.a.d(y,"update loc reporter to disable"),o.label=7;case 7:return[2]}})})}function a(){return p(this,void 0,void 0,function(){var e,t;return g(this,function(n){switch(n.label){case 0:return i.a.d(y,"checkLocInfo"),[4,s.a.storage.get({key:v})];case 1:return(e=n.sent())&&(t=(new Date).getTime()/1e3-parseInt(e/1e3+""))<900?(i.a.d(y,"need not report locinfo,lastreport time:"+e+",curtime:"+(new Date).getTime()),[2]):(S().then(function(e){var t;e&&(t={lat:e.latitude,lng:e.longitude,alt:-1,bear:-1,acc:-1,tag:"",itime:parseInt((new Date).getTime()/1e3+"")},s.a.storage.set({key:b,value:t})),h(t)}).catch(function(e){i.a.w(y,"get gps info failed:"+e),h(null)}),[2])}})})}function l(){return p(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,s.a.storage.get({key:b})];case 1:return e=t.sent(),e?[2,JSON.parse(e)]:[2,{lat:200,lng:200,alt:-1,bear:-1,acc:-1,tag:"",itime:0}]}})})}function h(e){d.a?(d.a.onscanned=function(t){k(e,t.wifiList)},I().then(function(e){i.a.d(y,"get wifi info success")}).catch(function(t){i.a.w(y,"get wifi info failed:"+t),k(e,null)})):k(e,null)}function k(e,t){return p(this,void 0,void 0,function(){var n,r,o,a,l;return g(this,function(f){switch(f.label){case 0:if(i.a.d(y,"gpsJson:"+JSON.stringify(e)+",wifi:"+JSON.stringify(t)),!e&&!t)return i.a.d(y,"All loc info is null, not need report"),[2];if(n={local_dns:"",network_type:"",type:"loc_info",itime:parseInt((new Date).getTime()/1e3+""),gps:"",wifi:[],account_id:u.JCoreInterface.global.accountId},e&&(n.gps=e),r=[],t){o=function(e,t){var n=e.signalStrength,r=t.signalStrength;return n<r?1:n>r?-1:0},t=t.sort(o);for(a in t){if(r.length>=10)break;l={itime:parseInt((new Date).getTime()/1e3+""),mac_address:t[a].BSSID,ssid:t[a].SSID,age:0,signal_strength:t[a].signalStrength},r.push(l)}}return r&&(n.wifi=r),n?(c.b.add(n),[4,s.a.storage.set({key:v,value:(new Date).getTime()+""})]):[3,2];case 1:return f.sent(),[3,3];case 2:i.a.d(y,"loc info is empty,not need report"),f.label=3;case 3:return[2]}})})}function S(){return new Promise(function(e,t){f.a.getLocation({timeout:3e4,success:function(t){e(t)},fail:function(e){t(e)}})})}function I(){return new Promise(function(e,t){d.a.scan({success:function(){i.a.d(y,"scan success")},fail:function(e,t){i.a.w(y,"handling fail, code = "+t)}})})}e.startLocInfoReporter=t,e.updateLocReporter=n,e.getLocCache=l}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(1),a=n(5),i=(n.n(a),n(3)),s=n(4),c=n(2),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},f="SaHelper",h=function(){function e(){this.SA={interval:3e4,latestResumeTime:0,latestPauseTime:0,firstResume:!0,sessionId:"",theadPool:new i.a}}return e.prototype.onResume=function(){r.a.d(f,"onResume"),this.SA.latestResumeTime=(new Date).getTime(),this.sendLog()},e.prototype.onPause=function(){r.a.d(f,"onPause"),this.SA.latestPauseTime=(new Date).getTime(),this.saveLog()},e.prototype.sendLog=function(){return u(this,void 0,void 0,function(){var e,t,n,a,i;return l(this,function(s){switch(s.label){case 0:return[4,this.isNewSession()];case 1:return e=s.sent(),r.a.d(f,"sendLog,isNewSession:"+e),1!=e?[3,6]:[4,this.createNewSession()];case 2:return t=s.sent(),[4,o.a.storage.get({key:"jg_sa_cache"})];case 3:return n=s.sent(),(r.a.d(f,"lauch:"+JSON.stringify(t)),n)?(a=JSON.parse(n),a.itime=parseInt((new Date).getTime()/1e3+""),a.type="active_terminate",[4,o.a.storage.del({key:"jg_sa_cache"})]):[3,5];case 4:s.sent(),r.a.d(f,"terminate:"+JSON.stringify(a)),c.b.add(a),s.label=5;case 5:return c.b.add(t),[3,8];case 6:return i=this.SA,[4,o.a.storage.get({key:"jg_sa_sid"})];case 7:i.sessionId=s.sent(),r.a.d(f,"load last sessionId:"+this.SA.sessionId),s.label=8;case 8:return[2]}})})},e.prototype.saveLog=function(){return u(this,void 0,void 0,function(){var e,t,a,s,c,u;return l(this,function(l){switch(l.label){case 0:return r.a.d(f,"saveLog.."),[4,o.a.storage.set({key:"jg_sa_lp",value:this.SA.latestPauseTime})];case 1:return l.sent(),[4,o.a.storage.get({key:"jg_sa_cache"})];case 2:return e=l.sent(),t={session_id:"",time:"",date:"",itime:0,duration:0},e&&(t=JSON.parse(e)),[4,o.a.storage.get({key:"jg_sa_sst"})];case 3:return a=l.sent(),s=parseInt(a),c=(this.SA.latestPauseTime-s)/1e3,t.duration=c,u=new Date(s),t.itime=parseInt(u.getTime()/1e3+""),t.session_id=this.SA.sessionId,t.time=n.i(i.k)(u,"hh:mm:ss"),t.date=n.i(i.k)(u,"yyyy-MM-dd"),r.a.d(f,"save flow:"+JSON.stringify(t)),[4,o.a.storage.set({key:"jg_sa_cache",value:JSON.stringify(t)})];case 4:return l.sent(),[2]}})})},e.prototype.createNewSession=function(){return u(this,void 0,void 0,function(){var e,t,r;return l(this,function(c){switch(c.label){case 0:return[4,o.a.storage.set({key:"jg_sa_sst",value:this.SA.latestResumeTime})];case 1:return c.sent(),e=n.i(i.i)(),this.SA.sessionId=a.MD5(e+s.JCoreInterface.global.appkey+this.SA.latestResumeTime+o.a.getAppInfo().packageName).toString(),[4,o.a.storage.set({key:"jg_sa_sid",value:this.SA.sessionId})];case 2:return c.sent(),t=new Date,r={session_id:this.SA.sessionId,time:n.i(i.k)(t,"hh:mm:ss"),type:"active_launch",date:n.i(i.k)(t,"yyyy-MM-dd"),itime:parseInt(t.getTime()/1e3+"")},[2,r]}})})},e.prototype.isNewSession=function(){return u(this,void 0,void 0,function(){var e,t;return l(this,function(n){switch(n.label){case 0:return e=!0,1!=this.SA.firstResume?[3,2]:(this.SA.firstResume=!1,[4,o.a.storage.get({key:"jg_sa_lp"})]);case 1:return t=n.sent(),r.a.d(f,"statistics start,lastpause:"+t),t>0&&this.SA.latestResumeTime-t<=this.SA.interval&&(e=!1),[3,3];case 2:this.SA.latestResumeTime-this.SA.latestPauseTime<=this.SA.interval&&(e=!1),n.label=3;case 3:return[2,e]}})})},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,o=n(5),a=(n.n(o),n(22)),i=(n.n(a),n(1)),s=n(0),c=n(7),u=n(4),l=n(3),f=n(2),h=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){c.label=n[1];break}if(6===n[0]&&c.label<i[1]){c.label=i[1],i=n;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(n);break}i[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};!function(e){function t(e){return h(this,void 0,void 0,function(){var t,h,g,y,b,v,m,w,k,S,I,_,C,w,J,A,D,x,j,N,P,T;return d(this,function(d){switch(d.label){case 0:return t=JSON.stringify(e),f.a.add(o.MD5(t),t),[4,n.i(c.b)()];case 1:return h=d.sent(),h?[4,i.a.getNetWorkInfo()]:(s.a.d(p,"not register,will save report cache"),[2]);case 2:return g=d.sent(),"none"==g.type?(s.a.d(p,"report failed,no network"),[2]):[4,r(e)];case 3:for(y=d.sent(),s.a.d(p,"report json:"+JSON.stringify(y)),b=a.gzip(JSON.stringify(y)),v="",m=b,w=m.byteLength,k=0;k<w;k++)v+=String.fromCharCode(m[k]);return S=l.h.encode(v),I=n.i(l.c)(!1,32),_="iop203040506aPk!",C=n.i(l.e)(S,I,_),w=C.length,J=u.JCoreInterface.global.uid,A=o.SHA1(C),D=o.MD5(u.JCoreInterface.global.password),x=o.SHA1(J+D+A),j=J+":"+x+":"+I,N=l.h.encode(j),P="https://quick-stats.jpush.cn/v1/qapp/report",s.a.d(p,"report url:"+P),[4,n.i(l.j)({url:P,header:{"Content-Length":""+w,Accept:"application/jason","Accept-Encoding":"gzip","X-App-Key":u.JCoreInterface.global.appkey,Authorization:"Basic "+N,Charset:"UTF-8"},method:"POST",data:C}).catch(function(e){s.a.d(p,"report failed:"+JSON.stringify(e))})];case 4:return T=d.sent(),T&&200==T.code?(f.a.delete(o.MD5(t)),s.a.d(p,"report success:"+JSON.stringify(y)),s.a.dd(p,"JIGUANG,report success.")):T&&T.code&&s.a.d(p,"report failed.code:"+T.code),[2,T]}})})}function r(e){return h(this,void 0,void 0,function(){var t,n,r,o,a;return d(this,function(s){return Array.isArray(e)||(e=[e]),t=i.a.getAppInfo(),n=t.source.type,n&&""!=n&&null!=n||(n="unknown"),r="",o="",u.JCoreInterface.global.curSDK.has(1)&&(r=u.JCoreInterface.global.curSDKVersion[1]),u.JCoreInterface.global.curSDK.has(2)&&(o=u.JCoreInterface.global.curSDKVersion[2]),a={platform:"q",uid:u.JCoreInterface.global.uid,app_key:u.JCoreInterface.global.appkey,sdk_ver:"",channel:u.JCoreInterface.global.channel,app_version:t.versionName,push_sdk_ver:r,statistics_sdk_ver:o,share_sdk_ver:"",core_sdk_ver:u.JCoreInterface.global.sdkVersion,from_type:n,content:e},[2,a]})})}var p="ReportHelper";e.report=t,e.batchReport=r}(r||(r={}))},function(e,t){e.exports=require("@service.push")},function(e,t){e.exports=require("@system.app")},function(e,t){e.exports=require("@system.cipher")},function(e,t){e.exports=require("@system.device")},function(e,t){e.exports=require("@system.fetch")},function(e,t){e.exports=require("@system.geolocation")},function(e,t){e.exports=require("@system.network")},function(e,t){e.exports=require("@system.notification")},function(e,t){e.exports=require("@system.storage")},function(e,t){e.exports=require("@system.wifi")},function(e,t){e.exports=require("lodash.clonedeep")},function(e,t){e.exports=require("pako")}]));
//# sourceMappingURL=jcore_v1.0.0.js.map